<link rel="stylesheet" href="static/style.css">
<link rel="stylesheet" href="static/form.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<!--4그리드-->
<style>
    * {
        box-sizing: border-box;
    }

    /* Create four equal columns that floats next to each other */

    .column {
        float: left;
        width: 25%;
        padding: 10px;
        height: 200px;
        line-height: 180px;
    }

    .column>* {
        vertical-align: middle;
        margin: 0 auto;
    }

    /* Clear floats after the columns */

    .row:after {
        content: "";
        display: table;
        clear: both;
    }

</style>

<!--체크박스-->
<style>
    /* The container */

    .check_container {
        display: block;
        position: relative;
        padding-left: 35px;
        margin-bottom: 12px;
        cursor: pointer;
        font-size: 22px;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
    }

    /* Hide the browser's default checkbox */

    .check_container input {
        position: absolute;
        opacity: 0;
        cursor: pointer;
        height: 0;
        width: 0;
    }

    /* Create a custom checkbox */

    .checkmark {
        position: absolute;
        top: 0;
        left: 0;
        height: 25px;
        width: 25px;
        background-color: #eee;
    }

    /* On mouse-over, add a grey background color */

    .check_container:hover input~.checkmark {
        background-color: #ccc;
    }

    /* When the checkbox is checked, add a blue background */

    .check_container input:checked~.checkmark {
        background-color: #2196F3;
    }

    /* Create the checkmark/indicator (hidden when not checked) */

    .checkmark:after {
        content: "";
        position: absolute;
        display: none;
    }

    /* Show the checkmark when checked */

    .check_container input:checked~.checkmark:after {
        display: block;
    }

    /* Style the checkmark/indicator */

    .check_container .checkmark:after {
        left: 9px;
        top: 5px;
        width: 5px;
        height: 10px;
        border: solid white;
        border-width: 0 3px 3px 0;
        -webkit-transform: rotate(45deg);
        -ms-transform: rotate(45deg);
        transform: rotate(45deg);
    }

</style>

<!--이미지 모달-->
<style>
    body {
        font-family: Arial, Helvetica, sans-serif;
    }

    .myImg {
        border-radius: 5px;
        cursor: pointer;
        transition: 0.3s;
    }

    .myImg:hover {
        opacity: 0.3;
    }

    /* The Modal (background) */

    .modal {
        display: none;
        /* Hidden by default */
        position: fixed;
        /* Stay in place */
        z-index: 1;
        /* Sit on top */
        padding-top: 100px;
        /* Location of the box */
        left: 0;
        top: 0;
        width: 100%;
        /* Full width */
        height: 100%;
        /* Full height */
        overflow: auto;
        /* Enable scroll if needed */
        background-color: rgb(0, 0, 0);
        /* Fallback color */
        background-color: rgba(0, 0, 0, 0.9);
        /* Black w/ opacity */
    }

    /* Modal Content (image) */

    .modal-content {
        margin: auto;
        display: block;
        width: 80%;
        max-width: 700px;
    }

    /* Caption of Modal Image */

    #caption {
        margin: auto;
        display: block;
        width: 80%;
        max-width: 700px;
        text-align: center;
        color: #ccc;
        padding: 10px 0;
        height: 150px;
    }

    /* Add Animation */

    .modal-content,
    #caption {
        -webkit-animation-name: zoom;
        -webkit-animation-duration: 0.6s;
        animation-name: zoom;
        animation-duration: 0.6s;
    }

    @-webkit-keyframes zoom {
        from {
            -webkit-transform: scale(0)
        }
        to {
            -webkit-transform: scale(1)
        }
    }

    @keyframes zoom {
        from {
            transform: scale(0)
        }
        to {
            transform: scale(1)
        }
    }

    /* The Close Button */

    .close {
        position: absolute;
        top: 15px;
        right: 35px;
        color: #f1f1f1;
        font-size: 40px;
        font-weight: bold;
        transition: 0.3s;
    }

    .close:hover,
    .close:focus {
        color: #bbb;
        text-decoration: none;
        cursor: pointer;
    }

    /* 100% Image Width on Smaller Screens */

    @media only screen and (max-width: 700px) {
        .modal-content {
            width: 100%;
        }
    }

</style>

<!--모달 스크롤바 css-->
<style>
    /* width */

    div::-webkit-scrollbar {
        width: 25px;
    }

    /* Track */

    ::-webkit-scrollbar-track {
        box-shadow: inset 0 0 5px grey;
/*        border-radius: 10px;*/
    }

    /* Handle */

    ::-webkit-scrollbar-thumb {
        background: red;
/*        border-radius: 10px;*/
    }

    /* Handle on hover */

    ::-webkit-scrollbar-thumb:hover {
        background: #b30000;
    }

</style>


<div class="featurebar">
    <div class="featurebar__container">
        <h1 class="featurebar__title">
            대사 분리 파일 리스트
        </h1>
    </div>
</div>

<main style="display: table; height: 100%;">
    <section class="create__container" style="display: table-cell; vertical-align: middle;">
        <div class="row" style="text-align: left; width:85%; margin:0 auto; padding-left:22px;">
            <label class="check_container">
                     전체선택
                      <input type="checkbox" checked="checked" onchange="box_control(this);" name="filecheck">
                      <span class="checkmark"></span>
                    </label>
        </div>

        <div class="card__container" style="width:800px; padding:10px; margin:20px auto; border: 1px solid silver;">
            <div class="row">
                <div class="column" style="width:10%">
                    <label class="check_container" style="margin-top: 130%;">
                      <input type="checkbox" checked="checked" class="cbox" value="02.jpg/02.json">
                      <span class="checkmark"></span>
                    </label>
                </div>
                <div class="column" style="width:40%; overflow: hidden;">
                    <img src="static/image/detail/02.jpg" style="width:100%;" class="myImg" onclick="img_modal(this);">
                </div>
                <div class="column" style="width:30%">
                    <div style="margin-top:30%;">
                        <p style="font-size: 25px;">02.jpg</p>
                        <p style="color: gray">추출된 대사 : N 개</p>
                    </div>
                </div>
                <div class="column" style="width:20%">
                    <button type="button" class="btn waves-effect waves-light" onclick="pageChange('separator_detail_admin.html')">상세보기</button>
                </div>
            </div>
        </div>

        <div class="card__container" style="width:800px; padding:10px; margin:20px auto; border: 1px solid silver;">
            <div class="row">
                <div class="column" style="width:10%">
                    <label class="check_container" style="margin-top: 130%;">
                      <input type="checkbox" checked="checked" class="cbox" value="03.jpg/03.json" name="filecheck">
                      <span class="checkmark"></span>
                    </label>
                </div>
                <div class="column" style="width:40%; overflow: hidden;">
                    <img src="static/image/detail/03.jpg" alt="" style="width:100%;" class="myImg" onclick="img_modal(this);">
                </div>
                <div class="column" style="width:30%">
                    <div style="margin-top:30%;">
                        <p style="font-size: 25px;">03.jpg</p>
                        <p style="color: gray">추출된 대사 : N 개</p>
                    </div>
                </div>
                <div class="column" style="width:20%">
                    <button type="button" class="btn waves-effect waves-light" onclick="pageChange('separator_detail_admin.html')">상세보기</button>
                </div>
            </div>
        </div>

        <div class="card__container" style="width:800px; padding:10px; margin:20px auto; border: 1px solid silver;">
            <div class="row">
                <div class="column" style="width:10%">
                    <label class="check_container" style="margin-top: 130%;">
                      <input type="checkbox" checked="checked" class="cbox" value="04.jpg/04.json" name="filecheck">
                      <span class="checkmark"></span>
                    </label>
                </div>
                <div class="column" style="width:40%; overflow: hidden;">
                    <img src="static/image/detail/04.jpg" alt="" style="width:100%;" class="myImg" onclick="img_modal(this);">
                </div>
                <div class="column" style="width:30%">
                    <div style="margin-top:30%;">
                        <p style="font-size: 25px;">04.jpg</p>
                        <p style="color: gray">추출된 대사 : N 개</p>
                    </div>
                </div>
                <div class="column" style="width:20%">
                    <button type="button" class="btn waves-effect waves-light" onclick="pageChange('separator_detail_admin.html')">상세보기</button>
                </div>
            </div>
        </div>

        <div class="row" style="width:85%; margin:0 auto; height:100px;">
            <div style="float:left; width:0%; text-align: left;">

            </div>
            <div style="float:left; width:100%; text-align: right;">
                <button type="button" class="btn waves-effect waves-light" style="width:auto;" onclick="check_down();"><i class="fa fa-download"></i> 체크파일 다운로드</button>
            </div>
        </div>

        <a href="" download style="display: none;" id="download_link"></a>

        <!-- 이미지 모달창 -->
        <div id="myModal" class="modal">
            <span class="close">&times;</span>
            <img class="modal-content" id="img01">
            <div id="caption"></div>
        </div>
    </section>
</main>

<script>
    function box_control(box) {
        if (box.checked == true) {
            $(".cbox").prop("checked", true);
        } else {
            $(".cbox").prop("checked", false);
        }
    }

    function check_down() {
        for (var i = 0; i < $(".cbox").length; i++) {
            if ($(".cbox")[i].checked == true) {
                var str = $(".cbox")[i].value;
                var filename = str.split("/");
                $("#download_link").attr("href", "static/image/detail/" + filename[0]);
                $("#download_link").get(0).click();
                $("#download_link").attr("href", "static/image/detail/" + filename[1]);
                $("#download_link").get(0).click();
            }
        }
    }

    function img_modal(img) {
        $("#myModal").css("display", "block");
        $("#img01").attr("src", img.src);
        $("#caption").html(img.alt);
    }

    var span = document.getElementsByClassName("close")[0];
    span.onclick = function() {
        $("#myModal").css("display", "none");
    }

</script>
